<div class="modal-header">
  <div class="modal-title-wrap">
    <ng-icon name="bootstrapClipboard2DataFill"></ng-icon>
    <h5 class="modal-title">Chi tiết đơn hàng</h5>
  </div>
  <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.dismiss('Cross click')"></button>
</div>
<div class="modal-body" *ngIf="order">
  <div class="d-flex justify-content-between align-items-center">
    <p><strong>Ngày đặt:</strong> {{ order.order_date | date:'dd-MM-yyyy' }}</p>
    <p><strong>Thời gian đặt:</strong> {{ timeDifference }}</p>
  </div>
  <div class="d-flex justify-content-between align-items-center">
    <p><strong>Phương thức vận chuyển:</strong> {{ order.shipping_method | enumTranslate:'ShippingMethod' }}</p>
    <p><strong>Phương thức thanh toán:</strong> {{ order.payment_method | enumTranslate:'PaymentMethod'}}</p>
  </div>
  <p><strong>Địa chỉ giao hàng:</strong> {{ order.shipping_address }}</p>
  <p><strong>Nội dung:</strong> {{order.note}}</p>
  <p><strong>Trạng thái:</strong> {{ order.status | enumTranslate:'OrderStatus' }}</p>

  <h4>Chi tiết sản phẩm:</h4>
  <table class="table">
    <thead>
      <tr>
        <th>Sản phẩm</th>
        <th>Hình ảnh</th>
        <th>Giá</th>
        <th>Số lượng</th>
        <th>Thành tiền</th>
        <th>Mô tả</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let detail of orderDetails">
        <td>{{ detail.product_response.name }}</td>
        <td><img [src]="detail.product_response.thumbnail" alt="{{ detail.product_response.name }}" class="product-image"></td>
        <td>{{ detail.product_response.price | currency:'VND'}}</td>
        <td>{{ detail.number_of_products }}</td>
        <td>{{ detail.total_money | currency:'VND' }}</td>
        <td>{{ detail.product_response.description }}</td>
      </tr>
    </tbody>
  </table>

  <div class="orders-total">
    <p>Tổng số lượng: {{totalQuantity}}</p>
    <ng-icon name="bootstrapGripVertical"></ng-icon>
    <p>Tổng giá: {{totalPrice | currency: 'VND'}}</p>
  </div>
</div>
